<!DOCTYPE html>
<head>
  <title>Movie Reviews</title>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.4.3/tabletop.min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>
  <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script type='text/javascript' src='https://cdn.rawgit.com/RhoInc/Webcharts/master/build/webcharts.js'></script>
  <script src="./build/movieComparison.js" charset="utf-8"></script>

  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">  
  <link rel="stylesheet" href="https://cdn.rawgit.com/RhoInc/Webcharts/master/css/webcharts.css">
  <link rel="stylesheet" type="text/css" href="./css/movies.css">
</head>

<html>
<body>
  <h2>Movie Comparison</h2>
  <h4>Overview</h4>
  <p>My friend Sasha said, "Naama and I have the most similar taste in movies." This is my attempt to prove him wrong (and play with a few graphics/machine learning things over my company's winter break). 
  
  <h4>Data</h4> 
  12 people filled out a google spreadsheet rating 50 movies on a scale of 1 (worst) to 5 (best). People were instructed to leave rankings blank if they haven't seen the movie. <a href="https://goo.gl/forms/oMmsbm874ns6K8qZ2">Here</a> is a link to the survey (feel free to fill it out to see how you compare!), and <a href="https://docs.google.com/spreadsheets/d/1i_W-vL3MXEEh_R3PGs9acXM_6Y4gE2YTCUKnwaxjttU/">here</a> is a link to the results, saved as a google spreadsheet.
  
  <h4>Movie Rankings</h4>
  <p>
  This chart shows which movies were the highest rated. You can click a movie to see what everyone gave it. Created with <a href="https://github.com/RhoInc/Webcharts">webcharts</a></p>
  <div class="chart-wrap">
    <div class="chart" id="avgRankChart">
      <strong>Movies sorted by average rating</strong>
    </div>
    <div class="chart" id="detailChart"> </div>
  </div>

  <h4>Hierarchical Clustering</h4>
  <p> So, who is actually the most similar? Here is a quick heatmap (<a href="cluster/PHMovies.png">pdf</a>, <a href="cluster/PHMovies.R">R code</a>). Looks like the siblings win! Jeremy and Ben are closest followed by Nadav and Namps. The R code was adapted from this <a href="http://sebastianraschka.com/Articles/heatmaps_in_r.html"> nice tutorial.</a></p>
  <img src="cluster/PHMovies.png" width=1000px>
</body>
</html>

<script type="text/javascript">
$(document).ready(function() {

  //data URL
  var public_spreadsheet_url = 
  '1i_W-vL3MXEEh_R3PGs9acXM_6Y4gE2YTCUKnwaxjttU';

  Tabletop.init({ 
    key: public_spreadsheet_url,
    callback: movieComparison,
    simpleSheet: true 
  })
})

</script>


